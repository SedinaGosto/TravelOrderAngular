
<div class="okvir">
<h2 class="form-title" style="padding: 5%; " *ngIf = "!editMode">Dodaj novi nalog</h2>
<h2 class="form-title" style="padding: 5%; " *ngIf = "editMode">Uredi nalog</h2>

<form id="travelOrder-form" (ngSubmit)="onSubmit()" #travelOrderForm="ngForm">


<div class="form-group row">
    <!--<label for="employeeId" class="col-sm-3 col-form-label">Zaposlenik</label>-->
    <div class="col-sm-12">
      <select name="employeeId" #employeeId="ngModel" [(ngModel)]="fromClientID" required class="custom-select mr-sm-4"ngModel (change)="CheckEmployee()" >
        <option [ngValue]="undefined">Odaberi zaposlenika</option>
        <option *ngFor="let item of listOfEmployees" [value]=item.id >               
            {{item.name}} {{item.surname}}
        </option>
    </select>
    </div>
  </div>
  <div class="form-group row">
    <!--<label for="startDate" class="col-sm-3 col-form-label">Početak</label>-->
    <div class="col-sm-12">
      <input type="text" class="form-control" id="inputStartDate"
       onfocus="(this.type='datetime-local')" onblur="(this.type='text')" required placeholder="Početak" name="startDate" #startDate="ngModel" ngModel>
    </div>
  </div>
  <div class="alert-div" *ngIf="startDate.invalid && (startDate.dirty || startDate.touched)">
    <span *ngIf="startDate.errors.required">
                        Početak je obavezno polje.
    </span>
</div> 

<div class="form-group row">
    <!--<label for="endDate" class="col-sm-3 col-form-label">Kraj</label>-->
    <div class="col-sm-12">
      <input type="text" class="form-control" id="inputEndDate" (change)="CheckEmployee()" 
      onfocus="(this.type='datetime-local')" onblur="(this.type='text')" required placeholder="Kraj" name="endDate" #endDate="ngModel" ngModel>
                  
    </div>
  </div>
  <div class="alert-div" *ngIf="endDate.invalid && (endDate.dirty || endDate.touched)">
    <span *ngIf="endDate.errors.required">
                        Kraj je obavezno polje.
    </span>
</div>
 <div class="alert-div" *ngIf="checkEmployee">
    <span >
          Zaposlenik već ima angažman u tom periodu.
    </span>
</div>

  <div class="form-group row">
   <!-- <label for="reasonOfTravel" class="col-sm-3 col-form-label">Razlog</label>-->
    <div class="col-sm-12">
      <input type="text" class="form-control" id="inputReasonOfTravel" required placeholder="Razlog" name="reasonOfTravel" #reasonOfTravel="ngModel" ngModel>
    </div>
  </div>
  <div class="alert-div" *ngIf="reasonOfTravel.invalid && (reasonOfTravel.dirty || reasonOfTravel.touched)">
    <span *ngIf="reasonOfTravel.errors.required">
                        Razlog je obavezno polje.
    </span>
</div>    

<div class="form-group row">
    <!--<label for="descriptionOfTravel" class="col-sm-3 col-form-label">Opis</label>-->
    <div class="col-sm-12">
      <input type="text" class="form-control" id="inputDescriptionOfTravel" name="descriptionOfTravel" required placeholder="Opis" #descriptionOfTravel="ngModel" ngModel>
    </div>
  </div>
  <div class="alert-div" *ngIf="descriptionOfTravel.invalid && (descriptionOfTravel.dirty || descriptionOfTravel.touched)">
    <span *ngIf="descriptionOfTravel.errors.required">
                        Opis je obavezno polje.
    </span>
</div>

  <div class="form-group row">
    <!--<label for="advancePayment" class="col-sm-3 col-form-label">Akontacija</label>-->
    <div class="col-sm-12">
      <input type="text" class="form-control" id="inputAdvancePayment" required name="advancePayment" placeholder="Akontacija" #advancePayment="ngModel" ngModel>
    </div>
  </div>
  <div class="alert-div" *ngIf="advancePayment.invalid && (advancePayment.dirty || advancePayment.touched)">
    <span *ngIf="advancePayment.errors.required">
                        Akontacija je obavezno polje.
    </span>
</div>

  <p style="color:dimgray;font-weight: bold; text-align: center;">Ponedjeljak</p>

<div class="form-group row">
    <!--<label for="locationId" class="col-sm-3 col-form-label">Lokacija</label>-->
    <div class="col-sm-12">
      <select name="locationMondayId" #locationMondayId="ngModel" [(ngModel)]="fromLocationMondayID"   class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi lokaciju</option>
        <option *ngFor="let item of listOfLocations" [value]=item.id >               
            {{item.name}} 
        </option>
    </select>
    </div>
  </div>

<div class="form-group row">
    <!--<label for="typeOfCarId" class="col-sm-3 col-form-label">Tip vozila</label>-->
    <div class="col-sm-12">
      <select class="custom-select mr-sm-4" name="typeOfCarMondayId" #typeOfCarMondayId="ngModel" [(ngModel)]="fromCarMondayID"   ngModel>
        <option [ngValue]="undefined">Odaberi vozilo</option>
        <option *ngFor="let item of listOfTypeOfCars" [value]=item.id >               
            {{item.name}} 
        </option>
    </select>
    </div>
  </div>
  <p style="color:dimgray;font-weight: bold;">Utorak</p>

  <div class="form-group row">
      <!--<label for="locationId" class="col-sm-3 col-form-label">Lokacija</label>-->
      <div class="col-sm-12">
        <select name="locationTuesdayId" #locationTuesdayId="ngModel" [(ngModel)]="fromLocationTuesdayID"  class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi lokaciju</option>
          
          <option *ngFor="let item of listOfLocations" [value]=item.id >               
              {{item.name}} 
          </option>
      </select>
      </div>
    </div>
  
  <div class="form-group row">
      <!--<label for="typeOfCarId" class="col-sm-3 col-form-label">Tip vozila</label>-->
      <div class="col-sm-12">
        <select name="typeOfCarTuesdayId" #typeOfCarTuesdayId="ngModel" [(ngModel)]="fromCarTuesdayID" class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi vozilo</option>
          
          <option *ngFor="let item of listOfTypeOfCars" [value]=item.id >               
              {{item.name}} 
          </option>
      </select>
      </div>
    </div>

    <p style="color:dimgray;font-weight: bold;">Srijeda</p>

    <div class="form-group row">
        <!--<label for="locationId" class="col-sm-3 col-form-label">Lokacija</label>-->
        <div class="col-sm-12">
          <select name="locationWednesdayId" #locationWednesdayId="ngModel"  [(ngModel)]="fromLocationWednesdayID"   class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi lokaciju</option>
           
            <option *ngFor="let item of listOfLocations" [value]=item.id >               
                {{item.name}} 
            </option>
        </select>
        </div>
      </div>
    
    <div class="form-group row">
        <!--<label for="typeOfCarId" class="col-sm-3 col-form-label">Tip vozila</label>-->
        <div class="col-sm-12">
          <select name="typeOfCarWednesdayId" #typeOfCarWednesdayId="ngModel"  [(ngModel)]="fromCarWednesdayID"  class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi vozilo</option>
            
            <option *ngFor="let item of listOfTypeOfCars" [value]=item.id >               
                {{item.name}} 
            </option>
        </select>
        </div>
      </div>
      <p style="color:dimgray;font-weight: bold;">Četvrtak</p>

      <div class="form-group row">
          <!--<label for="locationId" class="col-sm-3 col-form-label">Lokacija</label>-->
          <div class="col-sm-12">
            <select name="locationThursdayId" #locationThursdayId="ngModel"  [(ngModel)]="fromLocationThursdayID"  class="custom-select mr-sm-4"  ngModel>
              <option [ngValue]="undefined">Odaberi lokaciju</option>

              <option *ngFor="let item of listOfLocations" [value]=item.id >               
                  {{item.name}} 
              </option>
          </select>
          </div>
        </div>
      
      <div class="form-group row">
          <!--<label for="typeOfCarId" class="col-sm-3 col-form-label">Tip vozila</label>-->
          <div class="col-sm-12">
            <select name="typeOfCarThursdayId" #typeOfCarThursdayId="ngModel"  [(ngModel)]="fromCarThursdayID"  class="custom-select mr-sm-4" ngModel>
        <option [ngValue]="undefined">Odaberi vozilo</option>
            
              <option *ngFor="let item of listOfTypeOfCars" [value]=item.id >               
                  {{item.name}} 
              </option>
          </select>
          </div>
        </div>
        <p style="color:dimgray;font-weight: bold;">Petak</p>

<div class="form-group row">
    <!--label for="locationId" class="col-sm-3 col-form-label">Lokacija</label>-->
    <div class="col-sm-12">
      <select name="locationFridayId" #locationFridayId="ngModel" class="custom-select mr-sm-4"   [(ngModel)]="fromLocationFridayID"   ngModel>
        <option [ngValue]="undefined">Odaberi lokaciju</option>
        
        <option *ngFor="let item of listOfLocations" [value]=item.id >               
            {{item.name}} 
        </option>
    </select>
    </div>
  </div>

<div class="form-group row">
    <!--<label for="typeOfCarId" class="col-sm-3 col-form-label">Tip vozila</label>-->
    <div class="col-sm-12">
      <select name="typeOfCarFridayId" #typeOfCarFridayId="ngModel"  [(ngModel)]="fromCarFridayID" class="custom-select mr-sm-4"  ngModel>
        <option [ngValue]="undefined">Odaberi vozilo</option>
        
        <option *ngFor="let item of listOfTypeOfCars" [value]=item.id >               
            {{item.name}} 
        </option>
    </select>
    </div>
  </div>

  <div class="form-group row">
        <div class="col-sm-12">
        <button type="submit" id="submit" class="btn btn-outline-info" [disabled]="!travelOrderForm.valid"><i class="fas fa-save" ></i>  Sačuvaj</button>
    </div>
   </div>

</form>
</div>

